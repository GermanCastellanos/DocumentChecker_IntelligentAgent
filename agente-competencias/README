CaracterÃ­sticas Principales
âœ… Problemas Resueltos

âŒ Error de extracciÃ³n de tablas: Reemplazado tabula-py por pdfplumber (sin dependencia Java)
âœ… LLM liviano integrado: Flan-T5 para anÃ¡lisis inteligente
âœ… Vector Database: FAISS para bÃºsquedas semÃ¡nticas eficientes
âœ… ComparaciÃ³n automÃ¡tica: PDA vs RAE con IA

ğŸ”§ TecnologÃ­as

ğŸ§  LLM: Google Flan-T5 (liviano y rÃ¡pido)
ğŸ“Š Vector DB: FAISS (Meta AI)
ğŸ” Embeddings: SentenceTransformers
ğŸ“‘ PDF: pdfplumber + PyMuPDF
ğŸ–¥ï¸ Interface: Streamlit

ğŸ“‹ Funcionalidades
1. ğŸ“‹ AnÃ¡lisis de PDA (Plan Docente de Asignatura)

ExtracciÃ³n de texto inteligente
DetecciÃ³n automÃ¡tica de cÃ³digo de curso
IdentificaciÃ³n de competencias por:

BÃºsqueda de patrones textuales
AnÃ¡lisis semÃ¡ntico con embeddings


ComparaciÃ³n con competencias esperadas

2. ğŸ“Š AnÃ¡lisis de RAE (ReflexiÃ³n de Aprendizaje Esperado)

ExtracciÃ³n mejorada de tablas (sin Java)
IdentificaciÃ³n de competencias con IA
NormalizaciÃ³n automÃ¡tica de datos
ComparaciÃ³n inteligente RAE vs PDA

3. ğŸ” BÃºsqueda Vectorial

Base de conocimiento indexada
BÃºsqueda semÃ¡ntica de competencias
Similarity scoring avanzado
Interfaz intuitiva de consulta

4. âš™ï¸ ConfiguraciÃ³n y Monitoreo

Estado del sistema en tiempo real
GestiÃ³n de parÃ¡metros
Backup/restore de vector database
MÃ©tricas y estadÃ­sticas

ğŸ› ï¸ InstalaciÃ³n RÃ¡pida
OpciÃ³n 1: ConfiguraciÃ³n AutomÃ¡tica (Recomendada)
bash# Clona el repositorio
git clone <tu-repositorio>
cd agente-competencias

# Ejecuta configuraciÃ³n automÃ¡tica
python setup.py
OpciÃ³n 2: InstalaciÃ³n Manual
bash# Instalar dependencias
pip install -r requirements.txt

# Crear archivos de configuraciÃ³n (si no existen)
python -c "
import json
# Crear archivos JSON bÃ¡sicos...
"

# Ejecutar aplicaciÃ³n
streamlit run app.py
ğŸ“¦ Dependencias Principales
text# Core
streamlit>=1.28.0
PyMuPDF>=1.23.0
pdfplumber>=0.9.0        # âœ… NUEVO: Reemplaza tabula-py

# AI/ML
sentence-transformers>=2.2.0
transformers>=4.30.0
torch>=2.0.0
faiss-cpu>=1.7.4         # âœ… NUEVO: Vector Database

# Utilities
pandas>=2.0.0
numpy>=1.24.0
regex>=2023.0.0
ğŸ—ï¸ Arquitectura del Sistema
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                UI (Streamlit)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              RAG Controller                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   PDF Processor â”‚     LLM Analyzer         â”‚
â”‚   - pdfplumber  â”‚   - Flan-T5 Small        â”‚
â”‚   - PyMuPDF     â”‚   - Competency Detection â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Vector Store   â”‚    Embedding Model       â”‚
â”‚   - FAISS       â”‚   - SentenceTransformers â”‚
â”‚   - Indexing    â”‚   - Semantic Search      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ğŸ“Š Estructura de Archivos
agente-competencias/
â”œâ”€â”€ app.py                    # âœ… AplicaciÃ³n principal RAG
â”œâ”€â”€ setup.py                  # âœ… Script de configuraciÃ³n  
â”œâ”€â”€ requirements.txt          # âœ… Dependencias actualizadas
â”œâ”€â”€ run_app.py               # Script de ejecuciÃ³n
â”œâ”€â”€ ğŸ“ data/
â”‚   â”œâ”€â”€ competencias.json
â”‚   â”œâ”€â”€ competenciascursos.json
â”‚   â””â”€â”€ abet_es.json
â”œâ”€â”€ ğŸ“ models/               # Modelos descargados
â””â”€â”€ ğŸ“ vector_db/            # Base vectorial
ğŸš€ Uso del Sistema
1. Iniciar AplicaciÃ³n
bash# OpciÃ³n 1: Script personalizado
python run_app.py

# OpciÃ³n 2: Streamlit directo
streamlit run app.py
2. AnÃ¡lisis de PDA

Navega a "ğŸ“‹ AnÃ¡lisis PDA"
Sube tu archivo PDF del Plan Docente
El sistema detectarÃ¡ automÃ¡ticamente:

CÃ³digo del curso
Competencias esperadas
Competencias presentes


Revisa el anÃ¡lisis comparativo con IA

3. AnÃ¡lisis de RAE

Ve a "ğŸ“Š AnÃ¡lisis RAE"
Sube el PDF de ReflexiÃ³n RAE
El sistema extraerÃ¡ y analizarÃ¡:

Tablas de resultados
Competencias evaluadas
Porcentajes de aprobaciÃ³n


Compara automÃ¡ticamente con PDA

4. BÃºsqueda Vectorial

Accede a "ğŸ” BÃºsqueda Vectorial"
Describe lo que buscas en lenguaje natural
ObtÃ©n competencias similares rankeadas por relevancia

ğŸ”„ Flujo RAG Mejorado
mermaidgraph TD
    A[PDF Upload] --> B[Text/Table Extraction]
    B --> C[Code Detection]
    C --> D[Competency Indexing]
    D --> E[Vector Database]
    E --> F[Semantic Search]
    F --> G[LLM Analysis]
    G --> H[Comparison & Results]
    
    I[Expected Competencies] --> D
    J[Historical Data] --> E
ğŸ¯ Mejoras Implementadas
âœ… ExtracciÃ³n de Tablas Sin Java

Antes: tabula-py + configuraciÃ³n Java compleja
Ahora: pdfplumber - instalaciÃ³n simple, mÃ¡s confiable

âœ… LLM Integrado

Modelo: Google Flan-T5 Small (77M parÃ¡metros)
Funciones:

IdentificaciÃ³n de competencias en tablas
ComparaciÃ³n inteligente PDA vs RAE
AnÃ¡lisis contextual de documentos



âœ… Vector Database con FAISS

Capacidades:

IndexaciÃ³n automÃ¡tica de competencias
BÃºsqueda semÃ¡ntica ultrarrÃ¡pida
Persistencia de datos
Escalabilidad para miles de documentos



âœ… Interfaz Mejorada

Dashboard con mÃ©tricas en tiempo real
Alertas inteligentes para alineaciÃ³n PDA-RAE
NavegaciÃ³n modular por pestaÃ±as
ConfiguraciÃ³n centralizada del sistema

ğŸ›ï¸ ConfiguraciÃ³n Avanzada
ParÃ¡metros del Sistema
python# Umbrales de similitud semÃ¡ntica
SEMANTIC_THRESHOLD = 0.70      # Competencias generales
SABERPRO_THRESHOLD = 0.60      # SABER PRO (mÃ¡s flexible)

# ConfiguraciÃ³n LLM
LLM_MAX_LENGTH = 512           # Tokens mÃ¡ximos
LLM_TEMPERATURE = 0.3          # Creatividad (0.0-1.0)

# Vector Database
FAISS_INDEX_TYPE = "IndexFlatIP"  # Inner Product
EMBEDDING_DIMENSION = 384         # all-MiniLM-L6-v2
Variables de Entorno
bash# Opcional: ConfiguraciÃ³n avanzada
export TORCH_DEVICE=cuda              # GPU (si disponible)
export STREAMLIT_SERVER_PORT=8501     # Puerto personalizado
export RAG_CACHE_DIR=./cache          # Directorio de cachÃ©
export RAG_LOG_LEVEL=INFO             # Nivel de logging
ğŸ“ˆ MÃ©tricas y Monitoreo
Dashboard del Sistema

ğŸ“Š Documentos indexados: Cantidad en vector DB
ğŸ¯ PrecisiÃ³n promedio: % de coincidencias PDA-RAE
âš¡ Tiempo de respuesta: Velocidad de procesamiento
ğŸ§  Uso de memoria: Consumo de recursos

Alertas AutomÃ¡ticas

ğŸŸ¢ AlineaciÃ³n Alta (>80%): PDA-RAE bien sincronizados
ğŸŸ¡ AlineaciÃ³n Media (60-80%): Revisar competencias faltantes
ğŸ”´ AlineaciÃ³n Baja (<60%): Requiere revisiÃ³n urgente

ğŸ” API de BÃºsqueda
BÃºsqueda Vectorial
python# Ejemplo de uso programÃ¡tico
from vector_database import VectorDatabase
from sentence_transformers import SentenceTransformer

# Inicializar
model = SentenceTransformer('all-MiniLM-L6-v2')
vector_db = VectorDatabase(model)

# Buscar competencias similares
query = "habilidades de programaciÃ³n en Python"
results = vector_db.search(query, k=5)

for doc, score, metadata in results:
    print(f"CÃ³digo: {metadata['codigo']}")
    print(f"Similitud: {score:.3f}")
    print(f"DescripciÃ³n: {doc}")
AnÃ¡lisis con LLM
python# AnÃ¡lisis automÃ¡tico de tablas
from rag_analyzer import AnalizadorCompetencias

analyzer = AnalizadorCompetencias(llm_pipeline, vector_db)

# Identificar competencias en tabla
competencias = analyzer.identificar_competencias_tabla(dataframe)

# Comparar con esperadas
comparacion = analyzer.comparar_competencias_con_llm(
    esperadas=["CE1", "CE2", "CG1"], 
    detectadas=competencias
)
ğŸ› SoluciÃ³n de Problemas
Error: "No se pueden extraer tablas"
bash# Verificar que el PDF contiene tablas vÃ¡lidas
# Usar herramientas online para verificar estructura

# Alternativa: Convertir PDF a imagen y usar OCR
pip install pytesseract pillow
Error: "LLM no responde"
bash# Verificar memoria disponible (mÃ­nimo 4GB RAM)
# Reducir max_length en configuraciÃ³n LLM

# Usar CPU en lugar de GPU si hay problemas
export TORCH_DEVICE=cpu
Error: "Vector DB corrupta"
bash# Reinicializar base vectorial
rm -rf vector_db/
python setup.py  # Recrear Ã­ndices
Rendimiento Lento
bash# Optimizaciones:
pip install faiss-gpu  # Si tienes CUDA
export OMP_NUM_THREADS=4  # ParalelizaciÃ³n CPU
ğŸ”’ Consideraciones de Seguridad

ğŸ“„ Archivos temporales: Se eliminan automÃ¡ticamente
ğŸ” Datos sensibles: No se almacenan permanentemente
ğŸŒ Red local: Por defecto solo acceso localhost
ğŸ—‚ï¸ Backups: Vector DB encriptada en reposo

ğŸ¤ ContribuciÃ³n
Desarrollo Local
bash# Configurar entorno de desarrollo
git clone <repositorio>
cd agente-competencias
python -m venv venv
source venv/bin/activate  # Linux/Mac
# venv\Scripts\activate   # Windows

pip install -r requirements.txt
pip install -r requirements-dev.txt  # Dependencias desarrollo

# Ejecutar tests
pytest tests/
Estructura de Commits
feat: nueva funcionalidad
fix: correcciÃ³n de bug
docs: documentaciÃ³n
style: formato/estilo
refactor: refactorizaciÃ³n
test: pruebas
chore: mantenimiento